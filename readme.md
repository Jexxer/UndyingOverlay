# UndyingOverlay

**UndyingOverlay** is a Python-based tool designed to overlay a cooldown timer for the "Undying Retribution Relic" in a game. It listens to game chat logs to detect when the relic has been activated and displays a countdown overlay indicating when the relic will be available again.

## Features

- Displays an overlay with a cooldown timer when the "Undying Retribution Relic" is triggered.
- Auto-detects the chat log and responds to specific game events.
- The overlay can be dragged to a different position on the screen.
- Right-click the overlay to close it.

## Prerequisites

To make **UndyingOverlay** work, you need the following:

1. **Python**: The project is built using Python 3.x, so you need to have Python installed on your system.
2. **Chat Logger Plugin**: Ensure that the game is logging chat messages. The **Chat Logger** plugin must be installed and enabled in your game.
3. **Game Chat Checkbox**: Make sure the **Game Chat** checkbox is enabled to allow the overlay to detect relevant messages from the chat log.

## Installation

1. **Download the latest release**:
   You can download the latest version of **UndyingOverlay** from the [Releases page](https://github.com/Jexxer/UndyingOverlay/releases).
2. **Run it :)**:

   - You don't need to install anything. It just reads the contents of a txt file so no need to run as an administrator.

## Usage

### Running the Overlay

1. Run the executable file (`UndyingOverlay.exe`) that you downloaded from the Releases page.
2. Upon startup, you will be prompted to select your game's user folder from the list of available users. The program will automatically detect the correct user folder containing the chat logs.
3. The overlay will appear, and it will monitor the game's chat logs for the "Undying Retribution Relic" activation message:

   ```
   Your Undying Retribution Relic saves your life. The Relic has lost power for 3 minutes.
   ```

4. Once the message is detected, the overlay will start a 3-minute cooldown timer. You can drag the overlay to a different location on your screen by clicking and dragging.

5. **Right-click** the overlay to close the program.

### Configuring the Plugin and Chat Logs

For **UndyingOverlay** to work correctly, you must have the **Chat Logger** plugin installed and enabled in the game. Additionally, ensure that the **Game Chat** checkbox is ticked in your plugin configuration. This allows the overlay to monitor the chat logs and respond to the "Undying Retribution Relic" message.

## Development Setup

If you want to modify or build the project from source, follow these steps:

1. **Clone the repository**:

   ```bash
   git clone https://github.com/Jexxer/UndyingOverlay.git
   ```

2. **Install Python dependencies**:
   Install the required Python packages:

   ```bash
   pip install pyqt5
   ```

3. **Run the script**:
   Run the Python script directly:

   ```bash
   python overlay.py
   ```

## Building the Executable

If you wish to build the standalone executable from source, you can use **PyInstaller**:

1. Install PyInstaller:

   ```bash
   pip install pyinstaller
   ```

2. Build the executable:
   ```bash
   pyinstaller --onefile --windowed --name UndyingOverlay.exe overlay.py
   ```

The resulting executable will be in the `dist/` directory.

## Contributing

Contributions are welcome! Feel free to open an issue or submit a pull request if you have any improvements or bug fixes.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

## Troubleshooting

- **Overlay doesnâ€™t appear**: Make sure the **Chat Logger** plugin is installed and the **Game Chat** checkbox is enabled in the game settings.
- **No cooldown detected**: Ensure that the correct chat log is being generated by the game and the file path is correctly selected at startup.
